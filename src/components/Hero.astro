<section class="relative h-[100dvh] w-full overflow-hidden">
  <!-- Video Background -->
  <video
    autoplay
    loop
    muted
    playsinline
    id="main-video"
    preload="metadata"
    class="absolute inset-0 h-full w-full object-cover object-center"
  >
    <source src="/video.webm" type="video/webm" />
  </video>

  <!-- Overlay con gradiente elegante -->
  <div
    class="absolute inset-0 bg-gradient-to-br from-slate-900/90 via-slate-900/70 to-slate-900/90"
  >
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.05)_0%,transparent_70%)]"
    >
    </div>
  </div>

  <!-- Contenido Principal -->
  <div
    class="relative z-10 flex h-full flex-col items-center justify-center px-5 mx-auto max-w-7xl"
  >
    <!-- Badge -->
    <div
      class="inline-flex items-center gap-2 px-5 py-2.5 mb-8 text-sm font-medium tracking-wide text-white uppercase backdrop-blur-md bg-white/10 border border-white/20 rounded-full opacity-0 translate-y-4 animate-fade-in-up"
      style="animation-delay: 0.2s; animation-fill-mode: forwards;"
    >
      <span class="text-lg">✈</span>
      <span>Experiencias Auténticas en Perú</span>
    </div>

    <!-- Título Principal -->
    <h1
      class="text-5xl md:text-6xl lg:text-8xl font-bold text-white text-center leading-tight tracking-tight mb-6 opacity-0 translate-y-4 animate-fade-in-up"
      style="animation-delay: 0.4s; animation-fill-mode: forwards;"
    >
      Descubre el
      <span
        class="bg-gradient-to-r from-amber-500 to-primary bg-clip-text text-transparent inline-block"
      >
        Perú
      </span>
      <br />
      Como Nunca Antes
    </h1>

    <!-- Subtítulo -->
    <p
      class="text-lg md:text-xl text-white/90 text-center max-w-2xl mb-10 leading-relaxed opacity-0 translate-y-4 animate-fade-in-up"
      style="animation-delay: 0.6s; animation-fill-mode: forwards;"
    >
      Diseñamos viajes únicos y personalizados que transforman tus sueños en
      recuerdos inolvidables. Tu aventura perfecta comienza aquí.
    </p>

    <!-- Botones CTA -->
    <div
      class="flex flex-col sm:flex-row gap-4 items-center opacity-0 translate-y-4 animate-fade-in-up"
      style="animation-delay: 0.8s; animation-fill-mode: forwards;"
    >
      <a
        href="https://api.whatsapp.com/send?phone=51984209980"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Contactar asesor de viajes por WhatsApp"
        class="group relative inline-flex items-center gap-2 px-8 py-4 text-base font-semibold text-white uppercase tracking-wide bg-gradient-to-r from-amber-500 to-primary rounded-xl overflow-hidden shadow-lg shadow-amber-500/40 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-amber-500/50 hover:-translate-y-1"
      >
        <span
          class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"
        ></span>
        <span class="relative">Planifica tu Viaje</span>
        <span
          class="relative text-xl transition-transform duration-300 group-hover:translate-x-1"
          >→</span
        >
      </a>

      <a
        href="/aventura"
        class="inline-flex items-center gap-2 px-8 py-4 text-base font-semibold text-white uppercase tracking-wide backdrop-blur-md bg-white/10 border-2 border-white/30 rounded-xl transition-all duration-300 hover:bg-white/20 hover:border-white/50 hover:-translate-y-1"
      >
        <span>Explorar Destinos</span>
      </a>
    </div>
  </div>
  <!-- Scroll Indicator -->
  <div
    class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 opacity-0 animate-fade-in"
    style="animation-delay: 1.2s; animation-fill-mode: forwards;"
  >
    <div
      class="w-6 h-10 border-2 border-white/50 rounded-full relative flex justify-center"
    >
      <!-- Punto animado -->
      <div
        class="absolute top-2 left-1/2 w-1 h-2 bg-white rounded-full animate-scroll"
        style="transform: translateX(-50%);"
      >
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }
</style>

<script>
  document.addEventListener("astro:page-load", () => {
    const firstVideo = document.querySelector(
      "#main-video"
    ) as HTMLMediaElement;

    if (firstVideo) {
      // Si el video ya está cargado
      if (firstVideo.readyState >= 3) {
        firstVideo.style.opacity = "1";
        return;
      }

      // Esperar a que el video se cargue
      firstVideo.addEventListener("loadeddata", () => {
        firstVideo.style.opacity = "1";
      });
    }
  });
</script>
