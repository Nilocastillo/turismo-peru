---
import { Image } from "astro:assets";

import GobiernoRegional from "@/assets/img-clientes/gobierno-regional-cusco.webp";
import SedaCusco from "@/assets/img-clientes/sedacusco.webp";
import UniversidadAndinaCusco from "@/assets/img-clientes/universidad-andina-cusco.webp";
import MunicipalidadCusco from "@/assets/img-clientes/municipalidad-cusco.webp";
import MunicipalidadAcopia from "@/assets/img-clientes/municipalidad-acopia.webp";
import MunicipalidadKumpirushiato from "@/assets/img-clientes/municipalidad-kumpirushiato.webp";
import Ktm from "@/assets/img-clientes/ktm.webp";
import Ferreyros from "@/assets/img-clientes/ferreyros.webp";

const clientes = [
  {
    logo: GobiernoRegional,
    name: "Gobierno Regional de Cusco",
    alt: "Logo del Gobierno Regional de Cusco",
  },
  {
    logo: SedaCusco,
    name: "Seda Cusco",
    alt: "Logo de Seda Cusco",
  },
  {
    logo: UniversidadAndinaCusco,
    name: "Universidad Andina de Cusco",
    alt: "Logo de la Universidad Andina de Cusco",
  },
  {
    logo: MunicipalidadCusco,
    name: "Municipalidad de Cusco",
    alt: "Logo de la Municipalidad de Cusco",
  },
  {
    logo: MunicipalidadAcopia,
    name: "Municipalidad de Acopia",
    alt: "Logo de la Municipalidad de Acopia",
  },
  {
    logo: MunicipalidadKumpirushiato,
    name: "Municipalidad de Kumpirushiato",
    alt: "Logo de la Municipalidad de Kumpirushiato",
  },
  {
    logo: Ktm,
    name: "KTM",
    alt: "Logo de KTM",
  },
  {
    logo: Ferreyros,
    name: "Ferreyros",
    alt: "Logo de Ferreyros",
  },
];
---

<section
  class="max-w-7xl px-6 py-12 overflow-hidden w-full relative group mx-auto flex gap-x-5 flex-col"
>
  <div class="mb-5">
    <h2
      class="text-2xl text-balance md:text-3xl lg:text-4xl font-bold text-center text-secondary"
    >
      Nuestros Clientes
    </h2>
    <p class="text-center text-xl text-pretty">
      Empresas e instituciones que confían en nosotros
    </p>
  </div>

  <div class="slider-container">
    <div
      class="slider-track flex gap-x-10 lg:gap-x-16 animate-scroll group-hover:[animation-play-state:paused]"
    >
      <!-- Primera copia de los logos -->
      {
        clientes.map((cliente) => (
          <div class="slider-item shrink-0">
            <Image
              src={cliente.logo}
              alt={cliente.alt}
              width={200}
              height={200}
              class="w-40 h-40 object-contain filter grayscale hover:grayscale-0 transition-all duration-300"
              loading="lazy"
              decoding="async"
            />
          </div>
        ))
      }

      <!-- Segunda copia para efecto infinito -->
      {
        clientes.map((cliente) => (
          <div class="slider-item shrink-0">
            <Image
              src={cliente.logo}
              alt={cliente.alt}
              width={200}
              height={200}
              class="w-40 h-40 object-contain filter grayscale hover:grayscale-0 transition-all duration-300"
              loading="lazy"
              decoding="async"
            />
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  .slider-container {
    width: 100%;
    overflow: hidden;
    position: relative;
  }

  .slider-track {
    display: flex;
    width: fit-content;
    animation: scroll 20s linear infinite;
  }

  .slider-item {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Animación del slider infinito */
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* Pausa la animación al hacer hover */
  .slider-track:hover {
    animation-play-state: paused;
  }

  /* Responsive: velocidad más lenta en móviles */
  @media (max-width: 768px) {
    .slider-track {
      animation-duration: 20s;
    }
  }
</style>
