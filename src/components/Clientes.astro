---
import { Image } from "astro:assets";
import GobiernoRegional from "@/assets/img-clientes/gobierno-regional-cusco.webp";
import SedaCusco from "@/assets/img-clientes/sedacusco.webp";
import UniversidadAndinaCusco from "@/assets/img-clientes/universidad-andina-cusco.webp";
import MunicipalidadCusco from "@/assets/img-clientes/municipalidad-cusco.webp";
import MunicipalidadAcopia from "@/assets/img-clientes/municipalidad-acopia.webp";
import MunicipalidadKumpirushiato from "@/assets/img-clientes/municipalidad-kumpirushiato.webp";
import Ktm from "@/assets/img-clientes/ktm.webp";
import Ferreyros from "@/assets/img-clientes/ferreyros.webp";

const clientes = [
  {
    logo: GobiernoRegional,
    name: "Gobierno Regional de Cusco",
    alt: "Logo del Gobierno Regional de Cusco",
  },
  {
    logo: SedaCusco,
    name: "Seda Cusco",
    alt: "Logo de Seda Cusco",
  },
  {
    logo: UniversidadAndinaCusco,
    name: "Universidad Andina de Cusco",
    alt: "Logo de la Universidad Andina de Cusco",
  },
  {
    logo: MunicipalidadCusco,
    name: "Municipalidad de Cusco",
    alt: "Logo de la Municipalidad de Cusco",
  },
  {
    logo: MunicipalidadAcopia,
    name: "Municipalidad de Acopia",
    alt: "Logo de la Municipalidad de Acopia",
  },
  {
    logo: MunicipalidadKumpirushiato,
    name: "Municipalidad de Kumpirushiato",
    alt: "Logo de la Municipalidad de Kumpirushiato",
  },
  {
    logo: Ktm,
    name: "KTM",
    alt: "Logo de KTM",
  },
  {
    logo: Ferreyros,
    name: "Ferreyros",
    alt: "Logo de Ferreyros",
  },
];
---

<section
  class="max-w-7xl px-6 py-12 overflow-hidden w-full relative group mx-auto flex gap-x-5 flex-col"
>
  <div class="mb-5">
    <h2
      class="text-2xl text-balance md:text-3xl lg:text-4xl font-bold text-center text-secondary"
    >
      Nuestros Clientes
    </h2>
    <p class="text-center text-xl text-pretty">
      Empresas e instituciones que conf√≠an en nosotros
    </p>
  </div>

  <div class="slider-wrapper">
    <div class="slider-container">
      <!-- Primera copia -->
      <div class="slider-track">
        {
          clientes.map((cliente) => (
            <div class="slider-item">
              <Image
                src={cliente.logo}
                alt={cliente.alt}
                widths={[96, 128, 144]}
                sizes="(min-width: 1024px) 144px, (min-width: 768px) 128px, 96px"
                class="w-24 h-24 md:w-32 md:h-32 lg:w-36 lg:h-36 object-contain filter grayscale hover:grayscale-0 transition-all duration-300"
                decoding="async"
                loading="lazy"
                fetchpriority="low"
              />
            </div>
          ))
        }
      </div>

      <!-- Segunda copia (duplicado exacto) -->
      <div class="slider-track" aria-hidden="true">
        {
          clientes.map((cliente) => (
            <div class="slider-item">
              <Image
                src={cliente.logo}
                alt={cliente.alt}
                widths={[96, 128, 144]}
                sizes="(min-width: 1024px) 144px, (min-width: 768px) 128px, 96px"
                class="w-24 h-24 md:w-32 md:h-32 lg:w-36 lg:h-36 object-contain filter grayscale hover:grayscale-0 transition-all duration-300"
                decoding="async"
                loading="lazy"
                fetchpriority="low"
              />
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  .slider-wrapper {
    width: 100%;
    overflow: hidden;
    position: relative;
  }

  .slider-container {
    display: flex;
    gap: 2rem;
    width: max-content;
    animation: scroll 35s linear infinite;
  }

  .slider-container:hover {
    animation-play-state: paused;
  }

  .slider-track {
    display: flex;
    gap: 2rem;
  }

  .slider-item {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
  }

  @keyframes scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .slider-track {
      gap: 1.5rem;
    }

    .slider-container {
      animation-duration: 25s;
    }
  }

  @media (min-width: 1024px) {
    .slider-track {
      gap: 3rem;
    }

    .slider-container {
      animation-duration: 45s;
    }
  }
</style>
